import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: 'Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget.\nGive me a Hotels options list with:\n- HotelName,\n- Hotel address,\n- Price(USD), 200$ - 400$\n- Hotel image URL,\n- Geo coordinates,\n- Rating,\n- Descriptions.\n\nAlso, suggest places to visit with:\n "itinerary": [\n\tday: day 1\n        {\n          "placeName": "The Las Vegas Strip",\n          "placeDetails": "Walk along the iconic Las Vegas Strip, enjoying the sights, sounds, and free attractions like the Bellagio Fountains, the Mirage Volcano, and the street performers.",\n          "placeImageURL": "https://images.unsplash.com/photo-1534854634310-a517d171754e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bGFzJTIwdmVnYXMlMjBzdHJpcHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60",\n          "geoCoordinates": {\n            "latitude": 36.1162,\n            "longitude": -115.1743\n          },\n            "ticketPricing": "Free",\n           "rating": 4.7,\n            "bestTimeToVisit": "18:00 - 23:00"\n        },\n        {\n          "placeName": "Fremont Street Experience",\n           "placeDetails": "Head downtown for the Fremont Street Experience, a pedestrian mall featuring a massive LED canopy with free light shows, street performers, and budget-friendly dining.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Fremont_Street_Experience_02-2022.jpg/1200px-Fremont_Street_Experience_02-2022.jpg",\n           "geoCoordinates": {\n            "latitude": 36.1702,\n             "longitude": -115.1400\n           },\n          "ticketPricing": "Free",\n           "rating": 4.6,\n          "bestTimeToVisit": "19:00 - 23:00"\n        }\n      ],\nProvide the response in JSON format.\n',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotels": [\n    {\n      "HotelName": "The LINQ Hotel + Experience",\n      "Hotel address": "3535 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "Price(USD)": 250,\n      "Hotel image URL": "https://media.cntraveler.com/photos/5a8ab0e9c5a2b2583a7b2e42/master/w_1920%2Cc_limit/LINQ-Hotel-Las-Vegas_LINQ_Exterior_01.jpg",\n      "Geo coordinates": {\n        "latitude": 36.1166,\n        "longitude": -115.1693\n      },\n      "Rating": 4.2,\n      "Descriptions": "Modern hotel with a central location on the Strip, offering a variety of dining and entertainment options. Known for its lively atmosphere and the High Roller observation wheel."\n    },\n    {\n      "HotelName": "Excalibur Hotel & Casino",\n      "Hotel address": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "Price(USD)": 220,\n      "Hotel image URL": "https://www.vegas.com/media/images/hotels/excalibur-las-vegas-hotel.jpg",\n      "Geo coordinates": {\n        "latitude": 36.0984,\n        "longitude": -115.1731\n      },\n      "Rating": 4.0,\n      "Descriptions": "A medieval-themed hotel with budget-friendly rooms, multiple pools, and family-friendly entertainment. Offers good value for its location on the south end of the Strip."\n    },\n      {\n        "HotelName": "Flamingo Las Vegas Hotel & Casino",\n        "Hotel address": "3555 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "Price(USD)": 280,\n        "Hotel image URL": "https://www.caesars.com/content/dam/caesars/destinations/las-vegas/flamingo/hotel/exteriors/flamingo-las-vegas-hotel-exterior-day-1920x1080.jpg.transform/cq5dam.web.1920.1080/image.jpg",\n        "Geo coordinates": {\n          "latitude": 36.1172,\n          "longitude": -115.1711\n        },\n        "Rating": 4.1,\n        "Descriptions": "An iconic Las Vegas hotel known for its pink exterior, lush gardens, and central location on the Strip. Offers a retro vibe and affordable accommodations."\n      },\n    {\n      "HotelName": "Planet Hollywood Resort & Casino",\n        "Hotel address": "3667 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "Price(USD)": 300,\n        "Hotel image URL": "https://media.radissonhotelsamericas.com/image/planet-hollywood-las-vegas-resort-casino/exteriorview/16256-142463-f63241971_3xl.jpg?impolicy=custom&width=1200&height=630",\n        "Geo coordinates": {\n          "latitude": 36.1087,\n          "longitude": -115.1719\n        },\n        "Rating": 4.3,\n        "Descriptions": "A contemporary hotel with a movie-themed decor, a variety of restaurants, and the Miracle Mile Shops. Offers modern amenities and a great location."\n    }\n  ],\n   "itinerary": [\n    {\n      "day": "day 1",\n       "activities": [\n        {\n          "placeName": "The Las Vegas Strip",\n          "placeDetails": "Walk along the iconic Las Vegas Strip, enjoying the sights, sounds, and free attractions like the Bellagio Fountains, the Mirage Volcano, and the street performers.",\n          "placeImageURL": "https://images.unsplash.com/photo-1534854634310-a517d171754e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bGFzJTIwdmVnYXMlMjBzdHJpcHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60",\n          "geoCoordinates": {\n            "latitude": 36.1162,\n            "longitude": -115.1743\n          },\n            "ticketPricing": "Free",\n           "rating": 4.7,\n            "bestTimeToVisit": "18:00 - 23:00"\n        },\n        {\n          "placeName": "Fremont Street Experience",\n           "placeDetails": "Head downtown for the Fremont Street Experience, a pedestrian mall featuring a massive LED canopy with free light shows, street performers, and budget-friendly dining.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Fremont_Street_Experience_02-2022.jpg/1200px-Fremont_Street_Experience_02-2022.jpg",\n           "geoCoordinates": {\n            "latitude": 36.1702,\n             "longitude": -115.1400\n           },\n          "ticketPricing": "Free",\n           "rating": 4.6,\n          "bestTimeToVisit": "19:00 - 23:00"\n        }\n       ]\n    },\n     {\n      "day": "day 2",\n       "activities": [\n        {\n          "placeName": "Red Rock Canyon National Conservation Area",\n          "placeDetails": "Take a scenic drive or hike through the beautiful Red Rock Canyon, enjoying the natural desert landscape and stunning red rock formations. Entrance fee is applicable.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Red_Rock_Canyon_Nevada_from_overlook_1.jpg/1200px-Red_Rock_Canyon_Nevada_from_overlook_1.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1484,\n            "longitude": -115.4168\n          },\n            "ticketPricing": "15 USD per vehicle",\n           "rating": 4.8,\n            "bestTimeToVisit": "08:00 - 11:00 (to avoid heat), 16:00 - 18:00"\n        },\n        {\n          "placeName": "The Bellagio Conservatory & Botanical Gardens",\n           "placeDetails": "Visit the Bellagio\'s free conservatory to see the seasonal floral displays and beautiful arrangements.",\n          "placeImageURL": "https://bellagio.mgmresorts.com/content/dam/MGM/bellagio/conservatory-and-botanical-gardens/bellagio-conservatory-fall-2022-1440x768.jpg",\n           "geoCoordinates": {\n            "latitude": 36.1126,\n            "longitude": -115.1740\n           },\n          "ticketPricing": "Free",\n           "rating": 4.7,\n          "bestTimeToVisit": "10:00 - 17:00"\n        }\n       ]\n    },\n      {\n      "day": "day 3",\n       "activities": [\n        {\n          "placeName": "Seven Magic Mountains",\n          "placeDetails": "Visit the colorful art installation \'Seven Magic Mountains\', located south of Las Vegas, for unique photo opportunities. Transportation is required.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Seven_Magic_Mountains_2018.jpg/1200px-Seven_Magic_Mountains_2018.jpg",\n          "geoCoordinates": {\n            "latitude": 35.9668,\n            "longitude": -115.1827\n          },\n            "ticketPricing": "Free",\n           "rating": 4.4,\n            "bestTimeToVisit": "10:00 - 12:00 (morning light), 16:00 - 18:00"\n        },\n        {\n           "placeName": "Explore the LINQ Promenade",\n            "placeDetails": "Enjoy the outdoor shopping, dining and entertainment district that features the High Roller observation wheel. Window shop, enjoy street performers, and take in the lively atmosphere.",\n          "placeImageURL": "https://www.vegas.com/media/images/attractions/linq-promenade-las-vegas.jpg",\n           "geoCoordinates": {\n            "latitude": 36.1166,\n             "longitude": -115.1693\n           },\n          "ticketPricing": "Free (some attractions may require tickets)",\n           "rating": 4.5,\n          "bestTimeToVisit": "17:00 - 22:00"\n        }\n       ]\n    }\n  ]\n}\n```\n',
        },
      ],
    },
  ],
});
